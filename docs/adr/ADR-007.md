# ADR-007: MKQL Over Raw SQL

**Decision:** Custom query language (MKQL) that compiles to SQL + vector queries.

**Rationale:**
- `NEAR()` for semantic search doesn't exist in SQL
- `LINKED()` for graph traversal is awkward in SQL without recursive CTEs
- `FRESH()` and `IMPLICIT()` are domain-specific sugar that saves 5-10 lines each
- `CONTEXT WINDOW` for LLM token budgeting has no SQL equivalent
- Path expressions (`kpis.conversion_lift`) are cleaner than JSON extraction
- Natural language mode (`mkb s --natural`) translates to MKQL, not raw SQL

**Still SQL under the hood:** MKQL compiles to SQLite queries. Advanced users
can drop to raw SQL via `mkb q --raw 'SELECT ...'`.
